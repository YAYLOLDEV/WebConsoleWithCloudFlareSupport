<!doctype html>
<html lang="en">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="favicon.png">

	<!-- Bootstrap CSS (Assuming styles/bootstrap.css is v5) -->
	<link rel="stylesheet" href="styles/bootstrap.css">
	<!-- Or use CDN: -->
	<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"> -->

	<!-- Custom CSS -->
	<link rel="stylesheet" href="styles/WebConsole.css">

	<title>WebConsole</title>

	<!-- Inline styles for placeholder text (Moved from previous attempts for clarity) -->
	<style>
		/* Style placeholder text for form controls within dark theme */
		.form-control.bg-dark::placeholder {
			color: white;
			opacity: 0.25; /* Adjusted opacity slightly for better visibility */
		}
		/* Vendor prefixes for broader compatibility */
		.form-control.bg-dark::-webkit-input-placeholder {
			color: white;
			opacity: 0.25;
		}
		.form-control.bg-dark::-moz-placeholder { /* Firefox 19+ */
			color: white;
			opacity: 0.25;
		}
		.form-control.bg-dark:-ms-input-placeholder { /* IE 10+ */
			color: white;
			opacity: 0.25;
		}
		.form-control.bg-dark::-ms-input-placeholder { /* Edge */
			color: white;
			opacity: 0.25;
		}

		/* Ensure selected player button stands out in dark mode */
		#playerlist .list-group-item-action.active {
			background-color: var(--bs-primary); /* Use Bootstrap primary color */
			border-color: var(--bs-primary);
			color: white; /* Ensure text remains readable */
		}
	</style>
</head>
<body class="d-flex flex-column h-100 bg-dark text-light">
<header>
	<nav class="navbar navbar-expand-lg sticky-top navbar-dark bg-black"> <!-- Changed bg-dark to bg-black for header contrast -->
		<div class="container-fluid">
			<a class="navbar-brand" href="#" id="navbarBrandLink">WebConsole</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContainer" aria-controls="navbarContainer" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarContainer">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link" href="#" id="navbarHomeLink">Home</a>
					</li>
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="serversDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
							Your servers
						</a>
						<ul class="dropdown-menu dropdown-menu-dark" id="ServerListDropDown" aria-labelledby="serversDropdown"> <!-- Added dropdown-menu-dark -->
							<li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#addServerModal" id="add_server">Add Server</a></li>
							<li><hr class="dropdown-divider border-secondary"></li> <!-- Added border-secondary -->
							<!-- Server items added dynamically by JS -->
							<li><a class="dropdown-item servermenuitem disabled" href="#" id="noServersAdded">No servers added</a></li> <!-- Placeholder -->
						</ul>
					</li>
				</ul>
				<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" id="lang_dropdown">
							Language
						</a>
						<ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end" aria-labelledby="lang_dropdown"> <!-- Added dropdown-menu-dark -->
							<li><a class="dropdown-item" href="#" onclick="setLanguage('en_US')">English</a></li>
							<li><a class="dropdown-item" href="#" onclick="setLanguage('es_ES')">Espa√±ol</a></li>
							<!-- Add other languages here -->
						</ul>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#settingsModal" id="settingsLink">Settings</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
</header>

<!-- Begin page content -->
<main role="main" class="flex-shrink-0 mt-4"> <!-- Added margin-top -->
	<!-- Welcome container -->
	<div class="container" id="welcomeContainer">
		<h1 class="mt-5" id="home_header">Select a server from the menu</h1>
		<p class="lead custom-class" id="home_description">Use the navigation bar to add a new Minecraft Server or connect to a previously added one.</p>
		<hr class="border-secondary"> <!-- Added divider -->
		<p class="custom-class small"> <!-- Smaller, muted text for footer info -->
			WebConsole v2.4 - By Lolyay - A fork of Webconsole
			<a href="#" id="loadServerFromText" class="link-primary">Load Server from Text</a> <!-- Styled link -->
		</p>
	</div>

	<!-- Server management container -->
	<div class="container" id="serverContainer" style="display: none;">
		<h1 class="mt-4 mb-4" id="serverTitle"></h1> <!-- Added margin-bottom -->

		<!-- Stats Row -->
		<div class="row g-3 mb-3"> <!-- Added gutters (g-3) and bottom margin -->
			<div class="col-sm-6 col-lg-3"> <!-- Adjusted columns for better spacing -->
				<div class="card h-100 bg-dark text-light border-secondary">
					<div class="card-body">
						<h5 class="card-title fs-6" id="players_online">Players Online</h5> <!-- Smaller heading -->
						<p class="card-text fs-4 mb-2"><span id="connectedPlayers">0</span> / <span id="maxPlayers">?</span></p> <!-- Larger text, less margin -->
						<div class="progress flat-progressbar bg-secondary" role="progressbar" aria-label="Players online progress bar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="height: 5px;"> <!-- Thinner progress bar -->
							<div class="progress-bar bg-info progress-bar-striped progress-bar-animated" style="width: 0%;" id="playerProgressBar"></div> <!-- Changed color -->
						</div>
					</div>
				</div>
			</div>
			<div class="col-sm-6 col-lg-3">
				<div class="card h-100 bg-dark text-light border-secondary">
					<div class="card-body">
						<h5 class="card-title fs-6" id="cpu_title">CPU</h5>
						<p class="card-text fs-4 mb-2" id="cpuInfo">0%</p>
						<div class="progress flat-progressbar bg-secondary" role="progressbar" aria-label="CPU usage progress bar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="height: 5px;">
							<div class="progress-bar bg-warning progress-bar-striped progress-bar-animated" style="width: 0%;" id="CpuProgressBar"></div> <!-- Changed color -->
						</div>
					</div>
				</div>
			</div>
			<div class="col-sm-6 col-lg-3">
				<div class="card h-100 bg-dark text-light border-secondary">
					<div class="card-body">
						<h5 class="card-title fs-6" id="ram_title">RAM</h5>
						<p class="card-text fs-4 mb-2"><span id="usedRam">0</span> / <span id="totalRam">0</span> MB</p>
						<div class="progress flat-progressbar bg-secondary" role="progressbar" aria-label="RAM usage progress bar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="height: 5px;">
							<div class="progress-bar bg-success progress-bar-striped progress-bar-animated" style="width: 0%;" id="RamProgressBar"></div> <!-- Changed color -->
						</div>
					</div>
				</div>
			</div>
			<div class="col-sm-6 col-lg-3">
				<div class="card h-100 bg-dark text-light border-secondary">
					<div class="card-body">
						<h5 class="card-title fs-6" id="tps_title">TPS</h5>
						<p class="card-text fs-4 mb-2"><span id="tps">0</span> / <span id="maxTps">20</span></p>
						<div class="progress flat-progressbar bg-secondary" role="progressbar" aria-label="TPS progress bar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="20" style="height: 5px;">
							<div class="progress-bar bg-primary progress-bar-striped progress-bar-animated" style="width: 0%;" id="TpsProgressBar"></div> <!-- Changed color -->
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- User Info & Delete Row -->
		<div class="row g-3 mb-4"> <!-- Added gutters and more bottom margin -->
			<div class="col-md-9">
				<div class="card bg-dark text-light border-secondary">
					<div class="card-body py-2"> <!-- Reduced vertical padding -->
						<span id="user_title">Logged as</span>:
						<strong id="loggedUsernameLabel">Unknown</strong> (<em id="loggedUserTypeLabel" class="text-muted">Unknown</em>)
					</div>
				</div>
			</div>
			<div class="col-md-3 d-grid"> <!-- Use d-grid for button to fill height potentially -->
				<button type="button" class="btn btn-outline-danger" id="deleteServerButton">Delete Server Config</button> <!-- Changed style -->
			</div>
		</div>

		<!-- Console and Actions Row -->
		<div class="row">
			<!-- Console Area -->
			<div class="col-lg-9 col-md-8 mb-3 order-md-1"> <!-- Order for smaller screens -->
				<div class="card mb-2 h-100 bg-black text-light border-secondary"> <!-- Changed bg-dark to bg-black -->
					<!-- Console content added by JS -->
					<div class="card-body overflow-auto console font-monospace small" id="consoleTextArea" style="min-height: 400px; max-height: 60vh;"></div>				</div>
				<div class="input-group mt-2">
					<input type="text" class="form-control bg-dark text-light border-secondary" id="commandInput" placeholder="Enter command..." aria-label="Console command input">
					<button class="btn btn-outline-primary" type="button" id="sendCommandButton">Send</button> <!-- Changed style -->
				</div>
			</div>

			<!-- Actions & Player List Sidebar -->
			<div class="col-lg-3 col-md-4 mb-3 order-md-2">
				<!-- Server Actions Card -->
				<div class="card mb-3 bg-dark text-light border-secondary">
					<div class="card-header py-2">Server Actions</div>
					<div class="card-body p-2">
						<div class="d-grid gap-2">
							<button type="button" id="broadcastbtn" class="btn btn-sm btn-outline-info">Broadcast</button> <!-- Changed style/size -->
							<button type="button" id="restartbtn" class="btn btn-sm btn-outline-warning">Restart</button> <!-- Changed style/size -->
							<button type="button" id="updatebtn" class="btn btn-sm btn-outline-secondary">Update</button> <!-- Changed style/size -->
						</div>
					</div>
				</div>

				<!-- Players Card -->
				<div class="card mb-3 bg-dark text-light border-secondary">
					<div class="card-header py-2">Players</div>
					<!-- Player items added by JS -->
					<div class="list-group list-group-flush overflow-auto p-0" id="playerlist" role="tablist" style="max-height: 250px;">
						<!-- Example: <button type="button" class="list-group-item list-group-item-action bg-dark text-light border-secondary">PlayerName</button> -->
					</div>
				</div>

				<!-- Player Actions Card -->
				<div class="card bg-dark text-light border-secondary">
					<div class="card-header py-2">Player Actions</div>
					<div class="card-body p-2">
						<div class="d-grid gap-2">
							<button type="button" id="msgbtn" class="btn btn-sm btn-outline-secondary">Message</button> <!-- Changed style/size -->
							<button type="button" id="kickbtn" class="btn btn-sm btn-outline-warning">Kick</button> <!-- Changed style/size -->
							<button type="button" id="banbtn" class="btn btn-sm btn-outline-danger">Ban</button> <!-- Changed style/size -->
						</div>
					</div>
				</div>
			</div>
		</div> <!-- End Console and Actions Row -->
	</div> <!-- End Server Container -->
</main>

<!-- Loading Modal -->
<div class="modal fade" id="loadingmodal" tabindex="-1" aria-labelledby="loadingModalTitle" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content bg-dark text-light">
			<div class="modal-header border-secondary">
				<h5 class="modal-title" id="loadingModalTitle">Trying to connect...</h5>
				<!-- No close button needed here -->
			</div>
			<div class="modal-body text-center">
				<div class="spinner-border text-primary" role="status">
					<span class="visually-hidden">Loading...</span>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Add Server Modal -->
<div class="modal fade" id="addServerModal" tabindex="-1" aria-labelledby="addServerModalLongTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content bg-dark text-light border-secondary">
			<div class="modal-header border-secondary">
				<h5 class="modal-title" id="addServerModalLongTitle">Add a new server</h5>
				<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button> <!-- Added btn-close-white -->
			</div>
			<div class="modal-body">
				<!-- Tab Navigation -->
				<ul class="nav nav-pills nav-fill mb-3 border border-secondary rounded" id="add-server-tab" role="tablist">
					<li class="nav-item" role="presentation">
						<button class="nav-link active" id="add-new-server-page-tab" data-bs-toggle="pill" data-bs-target="#add-new-server-page" type="button" role="tab" aria-controls="add-new-server-page" aria-selected="true">New Server</button>
					</li>
					<li class="nav-item" role="presentation">
						<button class="nav-link" id="add-legacy-server-page-tab" data-bs-toggle="pill" data-bs-target="#add-legacy-server-page" type="button" role="tab" aria-controls="add-legacy-server-page" aria-selected="false">Legacy Server</button>
					</li>
				</ul>

				<!-- Tab Content -->
				<div class="tab-content" id="add-server-tabContent">
					<!-- New Server Tab Pane -->
					<div class="tab-pane fade show active" id="add-new-server-page" role="tabpanel" aria-labelledby="add-new-server-page-tab">
						<form id="addnewServerForm" novalidate> <!-- Added novalidate to disable browser validation bubbles -->
							<div class="mb-3">
								<label for="new-server-name" class="form-label" id="addnewServerModalSvName">Server name:</label>
								<input type="text" class="form-control bg-dark text-light border-secondary" id="new-server-name" required>
								<div class="invalid-feedback">Please provide a server name.</div>
							</div>
							<div class="mb-3">
								<label for="new-server-ip" class="form-label" id="addnewServerModalSvIp">Redirector IP:</label>
								<input type="text" class="form-control bg-dark text-light border-secondary" id="new-server-ip" placeholder="localhost" required>
								<div class="invalid-feedback">Please provide the redirector IP address.</div>
							</div>
							<div class="mb-3">
								<label for="new-server-port" class="form-label" id="addnewServerModalSvPort">Redirector port:</label>
								<input type="number" class="form-control bg-dark text-light border-secondary" id="new-server-port" placeholder="8080" min="1" max="65535" required>
								<div class="invalid-feedback">Please provide a valid port number (1-65535).</div>
							</div>
							<div class="mb-3">
								<label for="new-server-path" class="form-label" id="addnewServerpath">Server Path (Set in Redirector):</label>
								<input type="text" class="form-control bg-dark text-light border-secondary" id="new-server-path" placeholder="/smp" required>
								<div class="invalid-feedback">Please provide the server path (e.g., /smp or /lobby).</div>
							</div>
							<div class="form-check mb-3">
								<input class="form-check-input bg-dark border-secondary" type="checkbox" id="new-server-ssl">
								<label class="form-check-label" for="new-server-ssl" id="addnewServerModalSvSsl">Redirector is SSL enabled</label>
							</div>
							<button type="button" class="btn btn-primary" id="saveAndConnectnewServerButton">Save and connect</button>
						</form>
					</div>
					<!-- Legacy Server Tab Pane -->
					<div class="tab-pane fade" id="add-legacy-server-page" role="tabpanel" aria-labelledby="add-legacy-server-page-tab">
						<form id="addServerForm" novalidate>
							<div class="mb-3">
								<label for="server-name" class="form-label" id="addServerModalSvName">Server name:</label>
								<input type="text" class="form-control bg-dark text-light border-secondary" id="server-name" required>
								<div class="invalid-feedback">Please provide a server name.</div>
							</div>
							<div class="mb-3">
								<label for="server-ip" class="form-label" id="addServerModalSvIp">Server IP:</label>
								<input type="text" class="form-control bg-dark text-light border-secondary" id="server-ip" placeholder="localhost" required>
								<div class="invalid-feedback">Please provide the server IP address.</div>
							</div>
							<div class="mb-3">
								<label for="server-port" class="form-label" id="addServerModalSvPort">WebConsole port:</label>
								<input type="number" class="form-control bg-dark text-light border-secondary" id="server-port" placeholder="8080" min="1" max="65535" required>
								<div class="invalid-feedback">Please provide a valid port number (1-65535).</div>
							</div>
							<div class="form-check mb-3">
								<input class="form-check-input bg-dark border-secondary" type="checkbox" id="server-ssl">
								<label class="form-check-label" for="server-ssl" id="addServerModalSvSsl">Server is SSL enabled</label>
								<div class="text-danger small mt-1" id="addServerModalSslAdvice">SSL may be required if accessing this page via HTTPS.</div>
							</div>
							<button type="button" class="btn btn-primary" id="saveAndConnectServerButton">Save and connect</button>
						</form>
					</div>
				</div>
			</div>
			<div class="modal-footer border-secondary">
				<button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal" id="addServerModalClose">Close</button>
			</div>
		</div>
	</div>
</div>

<!-- Password Modal -->
<div class="modal fade" id="passwordModal" tabindex="-1" aria-labelledby="passwordModalLongTitle" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false"> <!-- Made static -->
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content bg-dark text-light border-secondary">
			<div class="modal-header border-secondary">
				<h5 class="modal-title" id="passwordModalLongTitle">Password required</h5>
				<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close" id="passwordModalCloseButtonInternal"></button> <!-- Allow closing -->
			</div>
			<div class="modal-body">
				<form id="passwordForm">
					<div class="mb-3">
						<label for="server-pwd" class="form-label" id="passwordModalLabel">Password:</label>
						<input type="password" class="form-control bg-dark text-light border-secondary" id="server-pwd" required>
					</div>
					<div class="form-check mb-3">
						<input class="form-check-input bg-dark border-secondary" type="checkbox" id="rememberPwdCheckbox">
						<label class="form-check-label" for="rememberPwdCheckbox" id="passwordModalRememberLabel">Remember password</label>
					</div>
					<!-- Hidden submit button to allow Enter key submission -->
					<button type="submit" style="display: none;"></button>
				</form>
			</div>
			<div class="modal-footer border-secondary">
				<button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal" id="passwordModalCloseButton">Close</button>
				<button type="button" class="btn btn-primary" id="passwordSendButton">Login</button>
			</div>
		</div>
	</div>
</div>

<!-- Disconnection Modal -->
<div class="modal fade" id="disconnectionModal" tabindex="-1" aria-labelledby="disconnectionModalLongTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content bg-dark text-light border-secondary">
			<div class="modal-header border-secondary">
				<h5 class="modal-title text-warning" id="disconnectionModalLongTitle">Disconnected</h5> <!-- Added text-warning -->
				<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<p id="disconnectionModalDescription">Connection was lost with the server. This could be due to:</p>
				<ul>
					<li id="disconnectionModalsub1">Server was stopped or restarted.</li>
					<li id="disconnectionModalsub2">Network issues or firewall/port configuration problems. (<a href="https://www.yougetsignal.com/tools/open-ports/" target="_blank" rel="noopener noreferrer" class="link-info">Check port accessibility</a>)</li>
					<li >Attempting to reconnect automatically...</li>
				</ul>
			</div>
			<div class="modal-footer border-secondary">
				<button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal" id="disconnectionModalWelcomeScreenButton">Go to Welcome Screen</button>
				<button type="button" class="btn btn-primary" data-bs-dismiss="modal" id="disconnectionModalCloseButton">Close</button>
			</div>
		</div>
	</div>
</div>

<!-- Settings Modal -->
<div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLongTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content bg-dark text-light border-secondary">
			<div class="modal-header border-secondary">
				<h5 class="modal-title" id="settingsModalLongTitle">WebConsole Settings</h5>
				<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body" id="settingsModalDescription">
				<div class="form-check form-switch mb-3"> <!-- Increased margin -->
					<input class="form-check-input bg-secondary" type="checkbox" role="switch" id="showDateSettingsSwitch">
					<label class="form-check-label" for="showDateSettingsSwitch" id="showDateSettingsSwitchLabel">Show time on each console line</label>
				</div>
				<div class="form-check form-switch">
					<input class="form-check-input bg-secondary" type="checkbox" role="switch" id="readLogFileSwitch">
					<label class="form-check-label" for="readLogFileSwitch" id="readLogFileSwitchLabel">Retrieve full log file from server after login</label>
				</div>
				<hr class="border-secondary my-4">
				<p class="text-muted small">Settings are saved automatically to your browser's local storage.</p>
			</div>
			<div class="modal-footer border-secondary">
				<button type="button" class="btn btn-primary" data-bs-dismiss="modal" id="settingsModalCloseButton">Done</button>
			</div>
		</div>
	</div>
</div>


<!-- JavaScript Includes -->
<!-- jQuery (Required by WebConsoleEventHandlers.js and potentially others) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

<!-- Bootstrap 5 Bundle with Popper -->
<script src="scripts/bootstrap.bundle.js" defer></script> <!-- Added defer -->
<!-- Or use CDN: -->
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous" defer></script> -->

<!-- ANSI Color Parser -->
<script src="scripts/ansi_up.js" type="text/javascript" defer></script> <!-- Added defer -->

<!-- WebConsole JS Objects -->
<script src="scripts/object/Setting.js?v=2.4.1" defer></script> <!-- Added defer, incremented version -->
<script src="scripts/object/WSServer.js?v=2.4.1" defer></script> <!-- Added defer, incremented version -->

<!-- WebConsole JS Scripts (Load order matters) -->
<script src="scripts/WebConsoleLanguage.js?v=2.4.1" defer></script> <!-- Added defer, incremented version -->
<script src="scripts/WebConsolePersistenceManager.js?v=2.4.1" defer></script> <!-- Added defer, incremented version -->
<script src="scripts/WebConsoleConnector.js?v=2.4.1" defer></script> <!-- Added defer, incremented version -->
<script src="scripts/NEW_WebConsoleConnector.js?v=2.4.1" defer></script> <!-- Added defer, incremented version -->
<script src="scripts/WebConsoleManager.js?v=2.4.1" defer></script> <!-- Added defer, incremented version -->
<script src="scripts/WebConsole.js?v=2.4.1" defer></script> <!-- Added defer, incremented version -->
<script src="scripts/WebConsoleEventHandlers.js?v=2.4.1" defer></script> <!-- Added defer, incremented version, Renamed -->

</body>
</html>